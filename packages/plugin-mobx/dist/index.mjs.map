{"version":3,"file":"index.mjs","sources":["../src/index.ts"],"sourcesContent":["import { observable, runInAction, onBecomeUnobserved, } from 'mobx';\nimport { createReactivityAdapter } from 'signaldb';\nconst mobxReactivityAdapter = createReactivityAdapter({\n    create: () => {\n        const dep = observable({ count: 0 });\n        return {\n            depend: () => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                dep.count;\n            },\n            notify: () => {\n                runInAction(() => {\n                    dep.count += 1;\n                });\n            },\n            raw: dep,\n        };\n    },\n    isInScope: undefined,\n    onDispose(callback, { raw: dep }) {\n        onBecomeUnobserved(dep, 'count', callback);\n    },\n});\nexport default mobxReactivityAdapter;\n"],"names":["mobxReactivityAdapter","createReactivityAdapter","dep","observable","runInAction","callback","onBecomeUnobserved"],"mappings":";;AAEA,MAAMA,IAAwBC,EAAwB;AAAA,EAClD,QAAQ,MAAM;AACV,UAAMC,IAAMC,EAAW,EAAE,OAAO,GAAG;AAC5B,WAAA;AAAA,MACH,QAAQ,MAAM;AAEN,QAAAD,EAAA;AAAA,MACR;AAAA,MACA,QAAQ,MAAM;AACV,QAAAE,EAAY,MAAM;AACd,UAAAF,EAAI,SAAS;AAAA,QAAA,CAChB;AAAA,MACL;AAAA,MACA,KAAKA;AAAA,IACT;AAAA,EACJ;AAAA,EACA,WAAW;AAAA,EACX,UAAUG,GAAU,EAAE,KAAKH,KAAO;AACX,IAAAI,EAAAJ,GAAK,SAASG,CAAQ;AAAA,EAAA;AAEjD,CAAC;"}